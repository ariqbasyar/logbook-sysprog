# Boot Sequence & Kernel Compilation
## Monolithic, Micro, and Hybrid kernel
### Monolithic Kernel
- Karakteristik

    Semua bagian dari kernel seperti scheduling, file system, memory,
    networking, dan sebagainya terdapat dalam satu kernel.

- Kelebihan

    - Processing lebih cepat

- Kekurangan

    - Tidak aman dari crash
    - kernel size explosion

### Micro Kernel
- Karakteristik

    Hanya bagian penting dari sebuah kernel memang akan ditaruh di
    dalam kernel seperti IPC, basic scheduler, basic memory handling,
    I/O dll. Sisanya akan ditaruh di dalam user space.

- Kelebihan

    - Lebih aman dalam hal crashing
    - Portable
    - Size yang kecil

- Kekurangan

    - Processing lebih lambat

### Hybrid Kernel
- Karakteristik

    Memiliki struktur seperti micro-kernel tetapi memiliki penerapan seperti
    monolithic kernel. Dalam hal ini jadi karakteristik nya jadi lebih modular.

- Kelebihan

    - Lebih modular
    - Aman dalam crashing
    - Processing juga lebih cepat

## UEFI, the modern BIOS
> mengenai pembahasan ini, bacaan saya adalah dari
[https://www.howtogeek.com/56958/htg-explains-how-uefi-will-replace-the-bios/](https://www.howtogeek.com/56958/htg-explains-how-uefi-will-replace-the-bios/)

BIOS sudah terlalu lama terpakai, mungkin sekitar 39 tahun sudah terpakai di
banyak motherboard. UEFI datang dengan tujuan untuk meningkatkan security dan
fungsionalitas dari BIOS. UEFI memiliki process yang lebih cepat dibanding BIOS
karena sudah menggunakan GPT partitioning scheme daripada MBR. UEFI juga dapat
berjalan pada 32 dan 64 bit yang mana membuat dia akan semakin cepat dalam
booting nya. Seperti tujuan utamanya, UEFI dibekali dengan fitur secure boot
yaitu memastikan bahwa booting yang dilakukan tidak tercemari oleh malware.

UEFI juga mendukung banyak hal seperti hardware - hardware yang dapat di custom
sendiri oleh pembuat motherboard misal dapat terhubung dengan kipas (dapat
mengatur kecepatan kipas dari UEFI) dan banyak yang lainnya sedangkan fitur ini
tidak ada pada BIOS. Jadi UEFI ini datang untuk “memperbarui” BIOS karena
semakin kesini akan semakin banyak hardware yang perlu di support dari boot,
tetapi untuk fitur - fitur dasar pada BIOS tetap masih ada.

Basically, UEFI adalah versi modern dari BIOS.

## How to create a simple systemd init script
Kali ini saya ingin mencoba membuat sebuah script yang dapat berjalan ketika
komputer tersebut berjalan atau biasa disebut systemd service. Process yang
dijalankan oleh systemd ini akan langsung "diadopsi" oleh init process yaitu
PID 1. Script yang ingin saya buat ini bertugas untuk menjalankan web framework
yaitu django saat init oke kita langsung ke praktik nya:

- Buat file bernama `run-django.sh`

    File ini akan berfungsi untuk command - command apa saja yang ingin kita
    jalankan.
    ```bash
    #!/bin/bash
    DJANGO_PATH="/home/ariqbasyar/mydjango";

    /usr/bin/python3 "$DJANGO_PATH/manage.py" runserver;
    ```
    disana terdapat `DJANGO_PATH` yang berfungsi untuk menyimpan path dimana
    project django saya berada. Selanjutnya terdapat command untuk menjalankan
    django saya, sebenernya ini adalah `python3 manage.py runserver` tetapi
    dengan menggunakan full path (agar lebih aman).

- Ubah permission `run-django.sh` tersebut menjadi executable
    ```shell
    chmod +x run-django.sh
    ```

- Pindahkan script tersebut ke `/usr/bin/`
    ```shell
    sudo cp run-django.sh /usr/bin/run-django.sh
    ```

- Buat file untuk mendefinisikan service nya, `run-django.service`
    ```
    [Unit]
    Description=Run django web.

    [Service]
    Type=simple
    ExecStart=/bin/bash /usr/bin/run-django.sh

    [Install]
    WantedBy=multi-user.target
    ```
    Disana terdapat konfigurasi `ExecStart` untuk mendefinisikan command apa
    yang harus dijalankan service ini.

- Ubah permission file `run-django.service` tadi menjadi 644
    ```shell
    chmod 644 run-django.service
    ```

- Pindahkan file `run-django.service` ke `/lib/systemd/system/`
    ```shell
    sudo cp run-django.service /lib/systemd/system/run-django.service
    ```

- Jalankan service nya menggunakan `systemctl`
    ```shell
    sudo systemctl start run-django
    ```
    atau
    ```shell
    sudo systemctl start run-django.service
    ```

- Kalau sudah, sekarang dapat cek status nya menggunakan `systemctl`
    ```shell
    sudo systemctl status run-django
    ```
    ![status-service](/images/status-service-run-django.png)

- Kalau ingin stop service nya, dapat menggunakan `systemctl`
    ```shell
    sudo systemctl stop run-django
    ```

- kalau ingin restart service nya juga bisa, menggunakan `systemctl`
    ```shell
    sudo systemctl restart run-django
    ```

Dapat terlihat juga dari process list:

![process-list-run-django](/images/process-list-run-django.png)

terlihat disana bahwa process tersebut memiliki PPID (parent PID) 1 berarti
process tersebut langsung dijalankan oleh init process.

## Kernel compilation
